!function(){var e=[],t=document.getElementById("joinnusWidgetContainer"),a=document.createElement("div");a.setAttribute("id","rppJoinnusWidget"),a.innerHTML='<nav class="rppJoinnusHeader"><img src="https://s3-us-west-2.amazonaws.com/joinnus.com/content/api/api-rpp.png" alt=""><span></span></nav><div id="event-content"></div>',t.appendChild(a);var n=document.createElement("div");n.setAttribute("class","jn-search"),n.innerHTML='<button id="btnsearch" onclick="jnMethods.search();">Ver más eventos</button>';var r=function(e){for(var t=document.getElementById("event-content"),a=1;4>a;a++){var r=document.createElement("div");r.setAttribute("class","jn-events"),r.innerHTML='<article><a href="https://www.joinnus.com/PE/'+e[a].category+"/"+e[a].url+"-"+e[a].id+'" target="_blank"><p class="title"><span style="position: relative; top: 8px; font-size: 12px; float: left;">Entradas desde: '+e[a].currency+e[a].price+'</span><button class="jn-buy" style="float:right">Compra ahora</button></p><img src="'+e[a].imageUrl+'"></a></article>',t.appendChild(r)}t.appendChild(n)},c=new XMLHttpRequest;c.open("GET","https://api.joinnus.com/v1/PE/events?page=1"),c.onload=function(){200===c.status?(e=JSON.parse(c.responseText),e=jnMethods.dataHelper(e[0].featured),r(e)):console.log("Hubo un problema al recuperar los eventos de Joinnus")},c.send()}();var jnSearch=function(){var e="https://www.joinnus.com";window.open(e,"_blank")},watchKey=function(e){13==e.keyCode&&jnMethods.search()},dataHelper=function(e){return e.forEach(function(e){switch(e.category){case"conf-lectures":e.category="charlas-y-conferencias";break;case"entertainment":e.category="entretenimiento";break;case"trip-adventure":e.category="viaje-y-aventura";break;case"art-culture":e.category="arte-y-cultura";break;case"tech":e.category="tecnologia";break;case"sports":e.category="deportes";break;case"food-drinks":e.category="comidas-y-bebidas";break;case"kids":e.category="ninos";break;case"theater":e.category="teatro";break;case"community-service":e.category="ayuda-social"}switch(e.currency){case"PEN":e.currency="S/. ";break;case"USD":e.currency="$. ";break;case"EUR":e.currency="€. "}}),e},jnMethods={search:jnSearch,watch:watchKey,dataHelper:dataHelper};